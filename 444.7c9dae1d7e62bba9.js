"use strict";(self.webpackChunkmyschool=self.webpackChunkmyschool||[]).push([[444],{444:(he,k,l)=>{l.r(k),l.d(k,{AuthModule:()=>ge});var v=l(177),g=l(9555),e=l(3953);let S=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-forgot-password"]],decls:106,vars:5,consts:[["xmlns","http://www.w3.org/1999/xhtml",0,"xmlns","v","urn:schemas-microsoft-com:vml",0,"xmlns","o","urn:schemas-microsoft-com:office:office"],["http-equiv","Content-Type","content","text/html; charset=UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["name","x-apple-disable-message-reformatting"],["http-equiv","X-UA-Compatible","content","IE=edge"],["href",e.wXG`https://fonts.googleapis.com/css?family=Montserrat:400,700&display=swap`,"rel","stylesheet","type","text/css"],[1,"clean-body","u_body",2,"margin","0","padding","0","-webkit-text-size-adjust","100%","background-color","#e7e7e7","color","#000000"],["id","u_body","cellpadding","0","cellspacing","0",2,"border-collapse","collapse","table-layout","fixed","border-spacing","0","mso-table-lspace","0pt","mso-table-rspace","0pt","vertical-align","top","min-width","320px","margin","0 auto","background-color","#e7e7e7","width","100%"],[2,"vertical-align","top"],[2,"word-break","break-word","border-collapse","collapse !important","vertical-align","top"],[1,"u-row-container",2,"padding","0px","background-image","url('https://cdn.templates.unlayer.com/assets/1697613131983-Layer%20bg.png')","background-repeat","no-repeat","background-position","center top","background-color","#fdeed2"],[1,"u-row",2,"margin","0 auto","min-width","320px","max-width","600px","overflow-wrap","break-word","word-wrap","break-word","word-break","break-word","background-color","transparent"],[2,"border-collapse","collapse","display","table","width","100%","height","100%","background-color","transparent"],[1,"u-col","u-col-100",2,"max-width","320px","min-width","600px","display","table-cell","vertical-align","top"],[2,"height","100%","width","100% !important"],[2,"box-sizing","border-box","height","100%","padding","0px","border-top","0px solid transparent","border-left","0px solid transparent","border-right","0px solid transparent","border-bottom","0px solid transparent"],["role","presentation","cellpadding","0","cellspacing","0","width","100%","border","0",2,"font-family","arial,helvetica,sans-serif"],["align","left",1,"v-container-padding-padding",2,"overflow-wrap","break-word","word-break","break-word","padding","40px 10px 10px","font-family","arial,helvetica,sans-serif"],[1,"v-font-size",2,"margin","0px","line-height","140%","text-align","center","word-wrap","break-word","font-family","'Montserrat',sans-serif","font-size","25px","font-weight","700"],["id","u_content_heading_2","role","presentation","cellpadding","0","cellspacing","0","width","100%","border","0",2,"font-family","arial,helvetica,sans-serif"],["align","left",1,"v-container-padding-padding",2,"overflow-wrap","break-word","word-break","break-word","padding","0px 10px 10px","font-family","arial,helvetica,sans-serif"],[1,"v-font-size",2,"margin","0px","line-height","110%","text-align","center","word-wrap","break-word","font-family","'Montserrat',sans-serif","font-size","30px","font-weight","700"],[2,"color","orangered"],[2,"text-align","center"],["id","u_content_image_1","role","presentation","cellpadding","0","cellspacing","0","width","100%","border","0",2,"font-family","arial,helvetica,sans-serif"],["align","left",1,"v-container-padding-padding",2,"overflow-wrap","break-word","word-break","break-word","padding","10px","font-family","arial,helvetica,sans-serif"],["width","100%","cellpadding","0","cellspacing","0","border","0"],["align","center",2,"padding-right","0px","padding-left","0px"],["align","center","border","0","src","https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQTQ2V1Wk_r4SOBPbLY3o391Gk6aeFu6UrYvA&s","alt","image","title","image","width","394.4",1,"v-src-width","v-src-max-width",2,"outline","none","text-decoration","none","-ms-interpolation-mode","bicubic","clear","both","display","inline-block !important","border","none","height","auto","float","none","width","68%","max-width","394.4px"],[1,"u-row-container",2,"padding","0px","background-color","#fdeed2"],[2,"background-color","#ffffff","height","100%","width","100% !important","border-radius","0px","-webkit-border-radius","0px","-moz-border-radius","0px"],[2,"box-sizing","border-box","height","100%","padding","0px","border-top","0px solid transparent","border-left","0px solid transparent","border-right","0px solid transparent","border-bottom","0px solid transparent","border-radius","0px","-webkit-border-radius","0px","-moz-border-radius","0px"],["align","left",1,"v-container-padding-padding",2,"overflow-wrap","break-word","word-break","break-word","padding","50px 30px","font-family","arial,helvetica,sans-serif"],[1,"v-font-size",2,"font-size","14px","line-height","140%","text-align","left","word-wrap","break-word"],[2,"line-height","140%"],["id","u_content_text_2","role","presentation","cellpadding","0","cellspacing","0","width","100%","border","0",2,"font-family","arial,helvetica,sans-serif"],["align","left",1,"v-container-padding-padding",2,"overflow-wrap","break-word","word-break","break-word","padding","10px 100px 30px","font-family","arial,helvetica,sans-serif"],[1,"v-font-size",2,"font-size","14px","line-height","170%","text-align","center","word-wrap","break-word"],[2,"font-size","14px","line-height","170%"],["href","www.myschool.com"],["align","left",1,"v-container-padding-padding",2,"overflow-wrap","break-word","word-break","break-word","padding","0px","font-family","arial,helvetica,sans-serif"],["height","0px","align","center","border","0","cellpadding","0","cellspacing","0","width","100%",2,"border-collapse","collapse","table-layout","fixed","border-spacing","0","mso-table-lspace","0pt","mso-table-rspace","0pt","vertical-align","top","border-top","1px solid #BBBBBB","-ms-text-size-adjust","100%","-webkit-text-size-adjust","100%"],[2,"word-break","break-word","border-collapse","collapse !important","vertical-align","top","font-size","0px","line-height","0px","mso-line-height-rule","exactly","-ms-text-size-adjust","100%","-webkit-text-size-adjust","100%"]],template:function(i,t){1&i&&(e.EFF(0,"const email_template = `\n"),e.j41(1,"html",0)(2,"head"),e.nrm(3,"meta",1)(4,"meta",2)(5,"meta",3)(6,"meta",4)(7,"title")(8,"link",5),e.k0s(),e.j41(9,"body",6)(10,"table",7)(11,"tbody")(12,"tr",8)(13,"td",9)(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14)(19,"div",15)(20,"table",16)(21,"tbody")(22,"tr")(23,"td",17)(24,"h1",18)(25,"span"),e.EFF(26,"Welcome to"),e.k0s()()()()()(),e.j41(27,"table",19)(28,"tbody")(29,"tr")(30,"td",20)(31,"h1",21)(32,"span",22),e.EFF(33),e.nrm(34,"br"),e.k0s()(),e.j41(35,"h5",23),e.EFF(36,"Your Gateway to a Seamless School Experience!"),e.k0s()()()()(),e.j41(37,"table",24)(38,"tbody")(39,"tr")(40,"td",25)(41,"table",26)(42,"tr")(43,"td",27),e.nrm(44,"img",28),e.k0s()()()()()()()()()()()()(),e.j41(45,"div",29)(46,"div",11)(47,"div",12)(48,"div",13)(49,"div",30)(50,"div",31)(51,"table",16)(52,"tbody")(53,"tr")(54,"td",32)(55,"div",33)(56,"p",34),e.EFF(57,"Dear Student,"),e.k0s(),e.j41(58,"p",34),e.EFF(59,"Welcome to the mySchool community!"),e.nrm(60,"br"),e.EFF(61,"Your account has been created and crredential shared benlow:"),e.k0s(),e.j41(62,"p",34)(63,"b"),e.EFF(64,"Username :"),e.k0s(),e.EFF(65),e.nrm(66,"br"),e.j41(67,"b"),e.EFF(68,"Password :"),e.k0s(),e.EFF(69),e.k0s(),e.j41(70,"p",34),e.EFF(71,"\xa0"),e.k0s(),e.j41(72,"p",34),e.EFF(73,"You can login with this credential and use you school dashboard."),e.k0s()()()()()()()()()()()(),e.j41(74,"div",29)(75,"div",11)(76,"div",12)(77,"div",13)(78,"div",30)(79,"div",31)(80,"table",35)(81,"tbody")(82,"tr")(83,"td",36)(84,"div",37)(85,"p",38)(86,"b"),e.EFF(87,"Website: "),e.k0s(),e.j41(88,"a",39),e.EFF(89,"www.myschool.com"),e.k0s()(),e.j41(90,"p",38)(91,"b"),e.EFF(92,"contact: "),e.k0s(),e.EFF(93),e.k0s(),e.j41(94,"p",38),e.EFF(95,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore."),e.k0s()()()()()(),e.j41(96,"table",16)(97,"tbody")(98,"tr")(99,"td",40)(100,"table",41)(101,"tbody")(102,"tr",8)(103,"td",42)(104,"span"),e.EFF(105,"\xa0"),e.k0s()()()()()()()()()()()()()()()()()()()()()),2&i&&(e.R7$(33),e.Lme("","School Name","-","Branch",""),e.R7$(32),e.SpI("\xa0$","username",""),e.R7$(4),e.SpI("\xa0$","password"," "),e.R7$(24),e.JRh("school Number"))},styles:["@media only screen and (min-width: 620px) {\n      .u-row[_ngcontent-%COMP%] {\n        width: 600px !important;\n      }\n\n      .u-row[_ngcontent-%COMP%]   .u-col[_ngcontent-%COMP%] {\n        vertical-align: top;\n      }\n\n\n      .u-row[_ngcontent-%COMP%]   .u-col-100[_ngcontent-%COMP%] {\n        width: 600px !important;\n      }\n\n    }\n\n    @media only screen and (max-width: 620px) {\n      .u-row-container[_ngcontent-%COMP%] {\n        max-width: 100% !important;\n        padding-left: 0px !important;\n        padding-right: 0px !important;\n      }\n\n      .u-row[_ngcontent-%COMP%] {\n        width: 100% !important;\n      }\n\n      .u-row[_ngcontent-%COMP%]   .u-col[_ngcontent-%COMP%] {\n        display: block !important;\n        width: 100% !important;\n        min-width: 320px !important;\n        max-width: 100% !important;\n      }\n\n      .u-row[_ngcontent-%COMP%]   .u-col[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] {\n        margin: 0 auto;\n      }\n\n\n      .u-row[_ngcontent-%COMP%]   .u-col[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n        max-width: 100% !important;\n      }\n\n    }\n\n    body[_ngcontent-%COMP%] {\n      margin: 0;\n      padding: 0\n    }\n\n    table[_ngcontent-%COMP%], \n   td[_ngcontent-%COMP%], \n   tr[_ngcontent-%COMP%] {\n      border-collapse: collapse;\n      vertical-align: top\n    }\n\n    p[_ngcontent-%COMP%] {\n      margin: 0\n    }\n\n    .ie-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], \n   .mso-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%] {\n      table-layout: fixed\n    }\n\n    *[_ngcontent-%COMP%] {\n      line-height: inherit\n    }\n\n    a[x-apple-data-detectors=true][_ngcontent-%COMP%] {\n      color: inherit !important;\n      text-decoration: none !important\n    }\n\n\n    table[_ngcontent-%COMP%], \n   td[_ngcontent-%COMP%] {\n      color: #000000;\n    }\n\n    #u_body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n      color: #0000ee;\n      text-decoration: underline;\n    }\n\n    @media (max-width: 480px) {\n      #u_content_heading_2[_ngcontent-%COMP%]   .v-font-size[_ngcontent-%COMP%] {\n        font-size: 45px !important;\n      }\n\n      #u_content_image_1[_ngcontent-%COMP%]   .v-src-width[_ngcontent-%COMP%] {\n        width: auto !important;\n      }\n\n      #u_content_image_1[_ngcontent-%COMP%]   .v-src-max-width[_ngcontent-%COMP%] {\n        max-width: 92% !important;\n      }\n\n      #u_content_social_1[_ngcontent-%COMP%]   .v-container-padding-padding[_ngcontent-%COMP%] {\n        padding: 30px 10px 10px !important;\n      }\n\n      #u_content_text_2[_ngcontent-%COMP%]   .v-container-padding-padding[_ngcontent-%COMP%] {\n        padding: 10px 10px 20px !important;\n      }\n\n      #u_content_image_3[_ngcontent-%COMP%]   .v-container-padding-padding[_ngcontent-%COMP%] {\n        padding: 20px 10px 30px !important;\n      }\n    }"]})}return o})();var c=l(9417),w=l(1283),h=l(1626);let j=(()=>{class o{constructor(n){this._http=n,this.BASE_URL=w.c.apiURL}login(n){const i=new h.Lr;return i.set("Access-Control-Allow-Origin","*"),this._http.post(this.BASE_URL+"/auth/login",n,{headers:i})}usersList(){return this._http.get(this.BASE_URL+"/auth")}static#e=this.\u0275fac=function(i){return new(i||o)(e.KVO(h.Qq))};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var R=l(1667),_=l(5779),A=l(7887),m=l(1141),b=l(2242),U=l(7076),I=l(9998),N=l(1996),P=l(6338),y=l(5402);const z=()=>["/"];function G(o,a){1&o&&(e.j41(0,"small",26),e.EFF(1,"Username is not valid."),e.k0s())}function $(o,a){1&o&&(e.j41(0,"small",26),e.EFF(1,"Username is required."),e.k0s())}function B(o,a){1&o&&(e.j41(0,"small",27),e.EFF(1,"Password is required."),e.k0s())}function V(o,a){1&o&&e.nrm(0,"i",28)}function K(o,a){if(1&o&&(e.j41(0,"div",29)(1,"figure",30),e.nrm(2,"img",31),e.k0s(),e.j41(3,"h2",32),e.EFF(4),e.k0s(),e.j41(5,"h3",33),e.EFF(6),e.k0s()()),2&o){const n=e.XpG();e.R7$(2),e.Y8G("src",n.BASE_URL+"/"+n.schoolData.logo,e.B4B),e.R7$(2),e.JRh(n.schoolData.name?n.schoolData.name:""),e.R7$(2),e.JRh(n.schoolData.branch_name?n.schoolData.branch_name:"")}}let x=(()=>{class o{constructor(n,i,t,s,r,p,d,u){this.frmBuilder=n,this._authAPI=i,this._router=t,this._AppData=s,this._messageService=r,this._activatedRoute=p,this._store=d,this._appService=u,this.BASE_URL=w.c.apiURL,this.isLoading=!1,this.schoolid="23334",this.siteKey="6Lf6D-MqAAAAAKLvcIxOVq2nyR8CYnPhBD9BuHy8",this.loginFrm=this.frmBuilder.group({username:["",[c.k0.required,c.k0.minLength(4)]],password:["",[c.k0.required]],recaptcha:["",c.k0.required]}),this.schoolid=this._activatedRoute.snapshot.queryParamMap.get("schoolid")}ngOnInit(){this.schoolid&&this._AppData.getSchool(this.schoolid).subscribe(n=>{this.schoolData=n.results[0]})}get f(){return this.loginFrm.controls}signinWithGoogle(){}signinWithfacebook(){}onloginSubmit(n){n.valid?(this.isLoading=!0,this.validateUser(n.value)):this._messageService.add({detail:"Username & Password required.",summary:"error",severity:"error"})}validateUser(n){this._authAPI.login(n).subscribe(i=>{let t=i.results[0];t?(sessionStorage.setItem("uid",t.uid),sessionStorage.setItem("type",t.type),this._AppData.type$.next(t.type),sessionStorage.setItem("token",i.message||""),sessionStorage.setItem("finyear","2023-2024"),this._appService.type$.next(t.type),this._messageService.add({detail:"Succefully Login!",summary:"Success",severity:"success"}),this._router.navigate([`/user/${t.type}/${t.uid}`]),this.isLoading=!1):(this._messageService.add({detail:"Username and password not Valid.",summary:"Invalid!",severity:"error"}),this.isLoading=!1)})}userList(){this._authAPI.usersList().subscribe(n=>{console.log("############### :",n)})}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(c.ok),e.rXU(j),e.rXU(g.Ix),e.rXU(R.u),e.rXU(_.bg),e.rXU(g.nX),e.rXU(A.il),e.rXU(R.u))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-login"]],decls:45,vars:20,consts:[["captchaElem",""],[1,"bg-wallpaper","loginasaasas"],[1,"nav","navbar"],["size","normal"],[1,"login-body"],[1,"login-box"],[1,"form",3,"submit","formGroup"],[1,"login"],[1,"title","text-center","font1"],[1,"card-body","row"],[1,"col-12"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"pi","pi-user"],["type","text","pInputText","","formControlName","username","aria-describedby","username2-help",3,"placeholder"],["id","username2-help","class","p-error block",4,"ngIf"],[1,"pi","pi-key"],["type","password","pInputText","","formControlName","password","aria-describedby","password-help",3,"placeholder"],["id","password-help","class","p-error block",4,"ngIf"],["formControlName","recaptcha",3,"siteKey","useGlobalDomain"],[1,"text-center","col-12"],["severity","secondary",3,"routerLink"],["severity","danger","size","large","type","submit",1,"p-button-warning",3,"disabled"],["class","pi pi-spinner spin loader","style","margin-right:12px;",4,"ngIf"],[1,"school-div"],["class","header text-center",4,"ngIf"],["id","username2-help",1,"p-error","block"],["id","password-help",1,"p-error","block"],[1,"pi","pi-spinner","spin","loader",2,"margin-right","12px"],[1,"header","text-center"],[1,"text-center"],[3,"src"],[1,"font1",2,"font-size","3vw"],[1,"theme-color"]],template:function(i,t){if(1&i){const s=e.RV6();e.nrm(0,"p-toast"),e.j41(1,"section",1)(2,"nav",2),e.nrm(3,"app-logo",3),e.k0s(),e.j41(4,"div",4)(5,"div",5)(6,"form",6),e.bIt("submit",function(){return e.eBV(s),e.Njj(t.onloginSubmit(t.loginFrm))}),e.j41(7,"div",7)(8,"h2",8),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"div",9)(12,"div",10)(13,"div",11)(14,"span",12),e.nrm(15,"i",13),e.k0s(),e.nrm(16,"input",14),e.nI1(17,"translate"),e.nrm(18,"br"),e.k0s(),e.DNE(19,G,2,0,"small",15),e.nrm(20,"br"),e.DNE(21,$,2,0,"small",15),e.k0s(),e.j41(22,"div",10),e.nrm(23,"br"),e.j41(24,"div",11)(25,"span",12),e.nrm(26,"i",16),e.k0s(),e.nrm(27,"input",17),e.nI1(28,"translate"),e.nrm(29,"br"),e.k0s(),e.DNE(30,B,2,0,"small",18),e.nrm(31,"br"),e.k0s(),e.j41(32,"div",10),e.nrm(33,"ngx-recaptcha2",19,0),e.k0s()(),e.j41(35,"div",20)(36,"p-button",21),e.EFF(37,"Back to Home"),e.k0s(),e.EFF(38,"\xa0\xa0 "),e.j41(39,"p-button",22),e.DNE(40,V,1,0,"i",23),e.EFF(41," Login "),e.k0s()()()()(),e.j41(42,"div",24),e.DNE(43,K,7,3,"div",25),e.k0s()(),e.nrm(44,"app-copyright"),e.k0s()}2&i&&(e.R7$(6),e.Y8G("formGroup",t.loginFrm),e.R7$(3),e.JRh(e.bMT(10,13,"login")),e.R7$(7),e.FS9("placeholder",e.bMT(17,15,"username")),e.R7$(3),e.Y8G("ngIf",t.f.username.errors&&t.f.username.touched&&t.f.username.errors.minLength),e.R7$(2),e.Y8G("ngIf",t.f.username.errors&&t.f.username.touched&&t.f.username.errors.required),e.R7$(6),e.FS9("placeholder",e.bMT(28,17,"password")),e.R7$(3),e.Y8G("ngIf",t.f.username.errors&&t.f.password.touched&&t.f.password.invalid),e.R7$(3),e.Y8G("siteKey",t.siteKey)("useGlobalDomain",!1),e.R7$(3),e.Y8G("routerLink",e.lJ4(19,z)),e.R7$(3),e.Y8G("disabled",t.isLoading||t.loginFrm.invalid),e.R7$(),e.Y8G("ngIf",t.isLoading),e.R7$(3),e.Y8G("ngIf",t.schoolData))},dependencies:[v.bT,g.Wk,m.$n,b.S,c.qT,c.me,c.BC,c.cb,c.j4,c.JD,U.b,I.y8,N.Z,P.zM,y.D9],styles:[".bg-wallpaper[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]{position:relative;z-index:2}.bg-wallpaper[_ngcontent-%COMP%]   .login-body[_ngcontent-%COMP%]{display:flex;justify-content:space-around;position:relative;z-index:1}@media screen and (max-width: 990px){.bg-wallpaper[_ngcontent-%COMP%]   .login-body[_ngcontent-%COMP%]{flex-direction:column-reverse}}.bg-wallpaper[_ngcontent-%COMP%]   .login-body[_ngcontent-%COMP%]   .school-div[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center}@media screen and (max-width: 990px){.bg-wallpaper[_ngcontent-%COMP%]   .login-body[_ngcontent-%COMP%]   .school-div[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px!important;color:#fff;margin:29px 0 0}.bg-wallpaper[_ngcontent-%COMP%]   .login-body[_ngcontent-%COMP%]   .school-div[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px!important;margin:10px 0 30px}}.bg-wallpaper[_ngcontent-%COMP%]   .login-body[_ngcontent-%COMP%]   .school-div[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{height:300px;width:300px;border-radius:50%;margin:auto}@media screen and (max-width: 990px){.bg-wallpaper[_ngcontent-%COMP%]   .login-body[_ngcontent-%COMP%]   .school-div[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{height:120px;width:120px;margin-top:60px}.bg-wallpaper[_ngcontent-%COMP%]   .login-body[_ngcontent-%COMP%]   .school-div[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}}.bg-wallpaper[_ngcontent-%COMP%]   .login-body[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]{position:relative;top:-73px;box-shadow:56px 5px 98px -17px #171c35;z-index:0;height:calc(100vh - 96px)}@media screen and (max-width: 990px){.bg-wallpaper[_ngcontent-%COMP%]   .login-body[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]{height:40vh;top:0}}.bg-wallpaper[_ngcontent-%COMP%]   .login-body[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{height:calc(100% + 73px);background-color:#fff;display:flex;align-items:center}"]})}return o})();var C=l(467),E=l(4412),M=l(5964);function T(o){return(0,M.p)((a,n)=>o<=n)}var Y=l(6697),J=l(2771),q=l(1413);class X extends q.B{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(a){const{hasError:n,_hasValue:i,_value:t,thrownError:s,isStopped:r,_isComplete:p}=this;n?a.error(s):(r||p)&&(i&&a.next(t),a.complete())}next(a){this.isStopped||(this._value=a,this._hasValue=!0)}complete(){const{_hasValue:a,_value:n,_isComplete:i}=this;i||(this._isComplete=!0,a&&super.next(n),super.complete())}}var W=l(4402);class F{constructor(){}loadScript(a,n,i,t=null){if(typeof document<"u"&&!document.getElementById(a)){let s=document.createElement("script");s.async=!0,s.src=n,s.onload=i,t||(t=document.head),t.appendChild(s)}}}class O{}const Z={oneTapEnabled:!0};let f=(()=>{class o extends F{constructor(n,i){super(),this.clientId=n,this.initOptions=i,this.changeUser=new e.bkB,this._socialUser=new E.t(null),this._accessToken=new E.t(null),this._receivedAccessToken=new e.bkB,this.initOptions={...Z,...this.initOptions},this._socialUser.pipe(T(1)).subscribe(this.changeUser),this._accessToken.pipe(T(1)).subscribe(this._receivedAccessToken)}initialize(n){return new Promise((i,t)=>{try{this.loadScript(o.PROVIDER_ID,"https://accounts.google.com/gsi/client",()=>{if(google.accounts.id.initialize({client_id:this.clientId,auto_select:n,callback:({credential:s})=>{const r=this.createSocialUser(s);this._socialUser.next(r)},prompt_parent_id:this.initOptions?.prompt_parent_id,itp_support:this.initOptions.oneTapEnabled}),this.initOptions.oneTapEnabled&&this._socialUser.pipe((0,M.p)(s=>null===s)).subscribe(()=>google.accounts.id.prompt(console.debug)),this.initOptions.scopes){const s=this.initOptions.scopes instanceof Array?this.initOptions.scopes.filter(r=>r).join(" "):this.initOptions.scopes;this._tokenClient=google.accounts.oauth2.initTokenClient({client_id:this.clientId,scope:s,prompt:this.initOptions.prompt,callback:r=>{r.error?this._accessToken.error({code:r.error,description:r.error_description,uri:r.error_uri}):this._accessToken.next(r.access_token)}})}i()})}catch(s){t(s)}})}getLoginStatus(){return new Promise((n,i)=>{this._socialUser.value?n(this._socialUser.value):i(`No user is currently logged in with ${o.PROVIDER_ID}`)})}refreshToken(){return new Promise((n,i)=>{google.accounts.id.revoke(this._socialUser.value.id,t=>{t.error?i(t.error):n(this._socialUser.value)})})}getAccessToken(){return new Promise((n,i)=>{this._tokenClient?(this._tokenClient.requestAccessToken({hint:this._socialUser.value?.email}),this._receivedAccessToken.pipe((0,Y.s)(1)).subscribe(n)):i(this._socialUser.value?"No token client was instantiated, you should specify some scopes.":"You should be logged-in first.")})}revokeAccessToken(){return new Promise((n,i)=>{this._tokenClient?this._accessToken.value?google.accounts.oauth2.revoke(this._accessToken.value,()=>{this._accessToken.next(null),n()}):i("No access token to revoke"):i("No token client was instantiated, you should specify some scopes.")})}signIn(){return Promise.reject('You should not call this method directly for Google, use "<asl-google-signin-button>" wrapper or generate the button yourself with "google.accounts.id.renderButton()" (https://developers.google.com/identity/gsi/web/guides/display-button#javascript)')}signOut(){var n=this;return(0,C.A)(function*(){google.accounts.id.disableAutoSelect(),n._socialUser.next(null)})()}createSocialUser(n){const i=new O;i.idToken=n;const t=this.decodeJwt(n);return i.id=t.sub,i.name=t.name,i.email=t.email,i.photoUrl=t.picture,i.firstName=t.given_name,i.lastName=t.family_name,i}decodeJwt(n){const t=n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(window.atob(t).split("").map(function(r){return"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(s)}}return o.PROVIDER_ID="GOOGLE",o})(),H=(()=>{class o{constructor(n,i,t){this._ngZone=i,this._injector=t,this.providers=new Map,this.autoLogin=!1,this._user=null,this._authState=new J.m(1),this.initialized=!1,this._initState=new X,n instanceof Promise?n.then(s=>{this.initialize(s)}):this.initialize(n)}get authState(){return this._authState.asObservable()}get initState(){return this._initState.asObservable()}initialize(n){this.autoLogin=void 0!==n.autoLogin&&n.autoLogin;const{onError:i=console.error}=n;n.providers.forEach(t=>{this.providers.set(t.id,"prototype"in t.provider?this._injector.get(t.provider):t.provider)}),Promise.all(Array.from(this.providers.values()).map(t=>t.initialize(this.autoLogin))).then(()=>{if(this.autoLogin){const t=[];let s=!1;this.providers.forEach((r,p)=>{const d=r.getLoginStatus();t.push(d),d.then(u=>{this.setUser(u,p),s=!0}).catch(console.debug)}),Promise.all(t).catch(()=>{s||(this._user=null,this._authState.next(null))})}this.providers.forEach((t,s)=>{(0,W.A)(t.changeUser)&&t.changeUser.subscribe(r=>{this._ngZone.run(()=>{this.setUser(r,s)})})})}).catch(t=>{i(t)}).finally(()=>{this.initialized=!0,this._initState.next(this.initialized),this._initState.complete()})}getAccessToken(n){var i=this;return(0,C.A)(function*(){const t=i.providers.get(n);if(!i.initialized)throw o.ERR_NOT_INITIALIZED;if(!t)throw o.ERR_LOGIN_PROVIDER_NOT_FOUND;if(!(t instanceof f))throw o.ERR_NOT_SUPPORTED_FOR_ACCESS_TOKEN;return yield t.getAccessToken()})()}refreshAuthToken(n){return new Promise((i,t)=>{if(this.initialized){const s=this.providers.get(n);s?"function"!=typeof s.refreshToken?t(o.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN):s.refreshToken().then(r=>{this.setUser(r,n),i()}).catch(r=>{t(r)}):t(o.ERR_LOGIN_PROVIDER_NOT_FOUND)}else t(o.ERR_NOT_INITIALIZED)})}refreshAccessToken(n){return new Promise((i,t)=>{if(this.initialized)if(n!==f.PROVIDER_ID)t(o.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN);else{const s=this.providers.get(n);s instanceof f?s.revokeAccessToken().then(i).catch(t):t(o.ERR_LOGIN_PROVIDER_NOT_FOUND)}else t(o.ERR_NOT_INITIALIZED)})}signIn(n,i){return new Promise((t,s)=>{if(this.initialized){let r=this.providers.get(n);r?r.signIn(i).then(p=>{this.setUser(p,n),t(p)}).catch(p=>{s(p)}):s(o.ERR_LOGIN_PROVIDER_NOT_FOUND)}else s(o.ERR_NOT_INITIALIZED)})}signOut(n=!1){return new Promise((i,t)=>{if(this.initialized)if(this._user){let r=this.providers.get(this._user.provider);r?r.signOut(n).then(()=>{i(),this.setUser(null)}).catch(p=>{t(p)}):t(o.ERR_LOGIN_PROVIDER_NOT_FOUND)}else t(o.ERR_NOT_LOGGED_IN);else t(o.ERR_NOT_INITIALIZED)})}setUser(n,i){n&&i&&(n.provider=i),this._user=n,this._authState.next(n)}}return o.ERR_LOGIN_PROVIDER_NOT_FOUND="Login provider not found",o.ERR_NOT_LOGGED_IN="Not logged in",o.ERR_NOT_INITIALIZED="Login providers not ready yet. Are there errors on your console?",o.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN="Chosen login provider is not supported for refreshing a token",o.ERR_NOT_SUPPORTED_FOR_ACCESS_TOKEN="Chosen login provider is not supported for getting an access token",o.\u0275fac=function(n){return new(n||o)(e.KVO("SocialAuthServiceConfig"),e.KVO(e.SKi),e.KVO(e.zZn))},o.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),Q=(()=>{class o extends F{constructor(n,i={}){super(),this.clientId=n,this.requestOptions={scope:"email,public_profile",locale:"en_US",fields:"name,email,picture,first_name,last_name",version:"v10.0"},this.requestOptions={...this.requestOptions,...i}}initialize(){return new Promise((n,i)=>{try{this.loadScript(o.PROVIDER_ID,`//connect.facebook.net/${this.requestOptions.locale}/sdk.js`,()=>{FB.init({appId:this.clientId,autoLogAppEvents:!0,cookie:!0,xfbml:!0,version:this.requestOptions.version}),n()})}catch(t){i(t)}})}getLoginStatus(){return new Promise((n,i)=>{FB.getLoginStatus(t=>{if("connected"===t.status){let s=t.authResponse;FB.api(`/me?fields=${this.requestOptions.fields}`,r=>{let p=new O;p.id=r.id,p.name=r.name,p.email=r.email,p.photoUrl="https://graph.facebook.com/"+r.id+"/picture?type=normal&access_token="+s.accessToken,p.firstName=r.first_name,p.lastName=r.last_name,p.authToken=s.accessToken,p.response=r,n(p)})}else i(`No user is currently logged in with ${o.PROVIDER_ID}`)})})}signIn(n){const i={...this.requestOptions,...n};return new Promise((t,s)=>{FB.login(r=>{if(r.authResponse){let p=r.authResponse;FB.api(`/me?fields=${i.fields}`,d=>{let u=new O;u.id=d.id,u.name=d.name,u.email=d.email,u.photoUrl="https://graph.facebook.com/"+d.id+"/picture?type=normal",u.firstName=d.first_name,u.lastName=d.last_name,u.authToken=p.accessToken,u.response=d,t(u)})}else s("User cancelled login or did not fully authorize.")},i)})}signOut(){return new Promise((n,i)=>{FB.logout(t=>{n()})})}}return o.PROVIDER_ID="FACEBOOK",o})();var L=l(491),D=l(8833);const te=()=>["/auth"];function ne(o,a){1&o&&(e.j41(0,"h2",31),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.JRh(e.bMT(2,1,"register")))}function ie(o,a){1&o&&(e.j41(0,"small",32),e.EFF(1,"type is required."),e.k0s())}function oe(o,a){1&o&&(e.j41(0,"small",33),e.EFF(1,"Username is not valid."),e.k0s())}function se(o,a){1&o&&(e.j41(0,"small",33),e.EFF(1,"Username is required."),e.k0s())}function re(o,a){1&o&&(e.j41(0,"small",34),e.EFF(1,"email is required."),e.k0s())}function ae(o,a){1&o&&(e.j41(0,"small",35),e.EFF(1,"phone is required."),e.k0s())}function le(o,a){1&o&&(e.j41(0,"div",36)(1,"button",37),e.EFF(2,"Login"),e.k0s()())}const ce=[{path:"",component:x},{path:"login",component:x},{path:"register",component:(()=>{class o{constructor(n,i){this.googleAuth=n,this.frmBuilder=i,this.loginType=[{name:"Tutor",code:"tutor"},{name:"Candidate",code:"candidate"},{name:"Admin",code:"admin"}],this.googleAuth.authState.subscribe(t=>{this.user=t,console.log(this.user),this.validateUser({username:this.user.email,password:""})}),this.loginFrm=this.frmBuilder.group({username:["",[c.k0.required,c.k0.minLength(4)]],email:["",[c.k0.required]],phone:["",[c.k0.required]],type:["",[c.k0.required]]})}get f(){return this.loginFrm.controls}signinWithGoogle(){this.googleAuth.signIn(f.PROVIDER_ID)}signinWithfacebook(){this.googleAuth.signIn(Q.PROVIDER_ID)}onloginSubmit(n){n.valid&&this.validateUser(n.value)}validateUser(n){console.log(n)}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(H),e.rXU(c.ok))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-register"]],decls:66,vars:31,consts:[[1,"bt-theme"],[1,"nav","navbar"],[1,"title"],[1,"badge","badge-info","badge-xl",2,"font-size","20px"],[1,"container-fluid",3,"submit","formGroup"],[1,"login","row"],[1,"col-4"],["pTemplate","header",1,"text-center"],[1,"card-body","row"],[1,"col-12","text-right"],[3,"routerLink"],[1,"col-sm-12","col-md-12"],["formControlName","type","placeholder","Select login type","optionLabel","name",3,"options","showClear"],["id","type-help","class","p-error block",4,"ngIf"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"pi","pi-user"],["type","text","pInputText","","formControlName","username","aria-describedby","username2-help",3,"placeholder"],["id","username2-help","class","p-error block",4,"ngIf"],[1,"pi","pi-envelope"],["type","email","pInputText","","formControlName","email","aria-describedby","email-help",3,"placeholder"],["id","email-help","class","p-error block",4,"ngIf"],[1,"pi","pi-phone"],["type","tel","pInputText","","formControlName","phone","maxlength","10","aria-describedby","phone-help",3,"placeholder"],["id","phone-help","class","p-error block",4,"ngIf"],[1,"col-12"],["type","button","icon","pi pi-google",1,"p-button-rounded","p-button-info",3,"onClick"],["type","button","icon","pi pi-facebook",1,"p-button-primary","p-button-rounded",3,"onClick"],["type","button","icon","pi pi-github",1,"p-button-primary","p-button-rounded",3,"onClick"],["type","button","icon","pi pi-linkedin",1,"p-button-primary","p-button-rounded",3,"onClick"],["pTemplate","footer"],[1,"title","text-center"],["id","type-help",1,"p-error","block"],["id","username2-help",1,"p-error","block"],["id","email-help",1,"p-error","block"],["id","phone-help",1,"p-error","block"],[1,"text-right","col-12"],["pButton","","type","submit",1,"p-button-warning"]],template:function(i,t){1&i&&(e.j41(0,"section",0)(1,"nav",1)(2,"div",2)(3,"h1",3),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.EFF(6," | "),e.j41(7,"small"),e.EFF(8),e.nI1(9,"translate"),e.k0s()()(),e.j41(10,"form",4),e.bIt("submit",function(){return t.onloginSubmit(t.loginFrm)}),e.nrm(11,"br")(12,"br"),e.j41(13,"div",5),e.nrm(14,"div",6),e.j41(15,"p-card",6),e.DNE(16,ne,3,3,"ng-template",7),e.j41(17,"div",8)(18,"div",9)(19,"a",10),e.EFF(20),e.nI1(21,"translate"),e.k0s()(),e.j41(22,"div",11),e.nrm(23,"p-dropdown",12),e.j41(24,"p"),e.DNE(25,ie,2,0,"small",13),e.k0s()(),e.j41(26,"div",11)(27,"div",14)(28,"span",15),e.nrm(29,"i",16),e.k0s(),e.nrm(30,"input",17),e.nI1(31,"translate"),e.k0s(),e.DNE(32,oe,2,0,"small",18)(33,se,2,0,"small",18),e.nrm(34,"br"),e.k0s(),e.j41(35,"div",11)(36,"div",14)(37,"span",15),e.nrm(38,"i",19),e.k0s(),e.nrm(39,"input",20),e.nI1(40,"translate"),e.nrm(41,"br"),e.k0s(),e.DNE(42,re,2,0,"small",21),e.nrm(43,"br"),e.k0s(),e.j41(44,"div",11)(45,"div",14)(46,"span",15),e.nrm(47,"i",22),e.k0s(),e.nrm(48,"input",23),e.nI1(49,"translate"),e.nrm(50,"br"),e.k0s(),e.DNE(51,ae,2,0,"small",24),e.nrm(52,"br"),e.k0s(),e.j41(53,"div",11)(54,"h4",2),e.EFF(55),e.nI1(56,"translate"),e.k0s()(),e.j41(57,"div",25)(58,"p-button",26),e.bIt("onClick",function(){return t.signinWithGoogle()}),e.k0s(),e.EFF(59," \xa0 "),e.j41(60,"p-button",27),e.bIt("onClick",function(){return t.signinWithfacebook()}),e.k0s(),e.EFF(61," \xa0 "),e.j41(62,"p-button",28),e.bIt("onClick",function(){return t.signinWithfacebook()}),e.k0s(),e.EFF(63," \xa0 "),e.j41(64,"p-button",29),e.bIt("onClick",function(){return t.signinWithfacebook()}),e.k0s()()(),e.DNE(65,le,3,0,"ng-template",30),e.k0s()()()()),2&i&&(e.R7$(4),e.JRh(e.bMT(5,16,"Sitetitle")),e.R7$(4),e.JRh(e.bMT(9,18,"SiteSubtitle")),e.R7$(2),e.Y8G("formGroup",t.loginFrm),e.R7$(9),e.Y8G("routerLink",e.lJ4(30,te)),e.R7$(),e.SpI("",e.bMT(21,20,"alreadyAccount")," (click to login)"),e.R7$(3),e.Y8G("options",t.loginType)("showClear",!0),e.R7$(2),e.Y8G("ngIf",t.f.type.errors&&t.f.type.touched&&t.f.type.invalid),e.R7$(5),e.FS9("placeholder",e.bMT(31,22,"username")),e.R7$(2),e.Y8G("ngIf",t.f.username.errors&&t.f.username.touched&&t.f.username.errors.minLength),e.R7$(),e.Y8G("ngIf",t.f.username.errors&&t.f.username.touched&&t.f.username.errors.required),e.R7$(6),e.FS9("placeholder",e.bMT(40,24,"email")),e.R7$(3),e.Y8G("ngIf",t.f.email.errors&&t.f.email.touched&&t.f.email.invalid),e.R7$(6),e.FS9("placeholder",e.bMT(49,26,"phone")),e.R7$(3),e.Y8G("ngIf",t.f.phone.errors&&t.f.phone.touched&&t.f.phone.invalid),e.R7$(4),e.JRh(e.bMT(56,28,"social login")))},dependencies:[v.bT,g.Wk,L.Z,_.Ei,m._f,m.$n,b.S,c.qT,c.me,c.BC,c.cb,c.tU,c.j4,c.JD,D.ms,y.D9]})}return o})()},{path:"forgot-password",component:S}];let pe=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=e.$C({type:o});static#n=this.\u0275inj=e.G2t({imports:[g.iI.forChild(ce),g.iI]})}return o})();var de=l(6306),ue=l(563);let ge=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=e.$C({type:o});static#n=this.\u0275inj=e.G2t({providers:[(0,h.$R)((0,h.Sx)()),_.bg],imports:[v.MD,pe,L.D,m.tm,b.u,ue.Z,c.YN,c.X1,y.h,D.kr,de.G,I.MB,P.kd]})}return o})()}}]);