"use strict";(self.webpackChunkmyschool=self.webpackChunkmyschool||[]).push([[109],{7243:(j,u,n)=>{n.d(u,{n:()=>T});var i=n(9417),f=n(1283),s=n(5779),t=n(3953),p=n(2616),h=n(1667),b=n(9555),E=n(177),g=n(2242),F=n(8833),a=n(1141),y=n(9998),m=n(1593);function d(r,C){if(1&r&&(t.j41(0,"span",42),t.EFF(1),t.k0s()),2&r){const e=t.XpG(2);t.R7$(),t.Lme("",null==e.data?null:e.data.fname," ",null==e.data?null:e.data.lname,"")}}function I(r,C){if(1&r&&(t.j41(0,"span",43),t.EFF(1),t.k0s()),2&r){const e=t.XpG(2);t.R7$(),t.JRh(null==e.data?null:e.data.email)}}function P(r,C){1&r&&(t.j41(0,"div",16)(1,"p-floatLabel"),t.nrm(2,"input",44),t.j41(3,"label",45),t.EFF(4,"Parent ID"),t.k0s()()())}function D(r,C){if(1&r){const e=t.RV6();t.j41(0,"section",2)(1,"form",3),t.bIt("submit",function(){t.eBV(e);const l=t.XpG();return t.Njj(l.formSubmit(l.profileFrm))}),t.j41(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7),t.nrm(6,"img",8),t.DNE(7,d,2,2,"span",9)(8,I,2,1,"span",10),t.nrm(9,"span"),t.j41(10,"input",11,0),t.bIt("change",function(l){t.eBV(e);const _=t.XpG();return t.Njj(_.onUpload(l))}),t.k0s(),t.j41(12,"p-button",12),t.bIt("click",function(){t.eBV(e);const l=t.sdS(11);return t.Njj(l.click())}),t.k0s()()(),t.j41(13,"div",13)(14,"div",14)(15,"b"),t.EFF(16,"Basic Info"),t.k0s(),t.nrm(17,"hr")(18,"br"),t.j41(19,"div",15)(20,"div",16)(21,"p-floatLabel"),t.nrm(22,"input",17),t.j41(23,"label",18),t.EFF(24,"First Name"),t.k0s()()(),t.j41(25,"div",16)(26,"p-floatLabel"),t.nrm(27,"input",19),t.j41(28,"label",20),t.EFF(29,"Middle Name"),t.k0s()()(),t.j41(30,"div",16)(31,"p-floatLabel"),t.nrm(32,"input",21),t.j41(33,"label",22),t.EFF(34,"Last Name"),t.k0s()()(),t.DNE(35,P,5,0,"div",23),t.k0s(),t.j41(36,"b"),t.EFF(37,"Contact Info"),t.k0s(),t.nrm(38,"hr")(39,"br"),t.j41(40,"div",15)(41,"div",24)(42,"p-floatLabel"),t.nrm(43,"input",25),t.j41(44,"label",26),t.EFF(45,"Phone"),t.k0s()()(),t.j41(46,"div",24)(47,"p-floatLabel"),t.nrm(48,"input",27),t.j41(49,"label",28),t.EFF(50,"Email"),t.k0s()()()(),t.j41(51,"b"),t.EFF(52,"Address"),t.k0s(),t.nrm(53,"hr")(54,"br"),t.j41(55,"div",15)(56,"div",24)(57,"p-floatLabel"),t.nrm(58,"p-dropdown",29),t.j41(59,"label",30),t.EFF(60,"Country"),t.k0s()()(),t.j41(61,"div",24)(62,"p-floatLabel"),t.nrm(63,"input",31),t.j41(64,"label",32),t.EFF(65,"Address 1"),t.k0s()()(),t.j41(66,"div",24)(67,"p-floatLabel"),t.nrm(68,"input",33),t.j41(69,"label",34),t.EFF(70,"Address 2"),t.k0s()()(),t.j41(71,"div",24)(72,"p-floatLabel"),t.nrm(73,"input",35),t.j41(74,"label",36),t.EFF(75,"City"),t.k0s()()(),t.j41(76,"div",24)(77,"p-floatLabel"),t.nrm(78,"input",37),t.j41(79,"label",38),t.EFF(80,"State"),t.k0s()()()(),t.j41(81,"div",15)(82,"div",39),t.nrm(83,"p-button",40),t.EFF(84,"\xa0 "),t.nrm(85,"p-button",41),t.EFF(86,"\xa0 "),t.k0s()()()()()()()()}if(2&r){let e;const o=t.XpG();t.R7$(),t.Y8G("formGroup",o.profileFrm),t.R7$(5),t.Y8G("src",o.BASE_URL+"/"+(null==(e=o.profileFrm.get("profile_pic"))?null:e.value),t.B4B),t.R7$(),t.Y8G("ngIf",o.data),t.R7$(),t.Y8G("ngIf",null==o.data?null:o.data.email),t.R7$(4),t.Y8G("rounded",!0),t.R7$(23),t.Y8G("ngIf","student"===o.type),t.R7$(23),t.Y8G("options",o.coutryList),t.R7$(25),t.Y8G("disabled",o.isSubmitDisabled),t.R7$(2),t.Y8G("disabled",o.isSubmitDisabled)}}let T=(()=>{class r{constructor(e,o,l,_,c){this._fb=e,this._api=o,this._appService=l,this._toast=_,this.router=c,this.type=sessionStorage.getItem("type")||"",this.coutryList=[{name:"India"},{name:"Nepal"},{name:"Bhutan"},{name:"Srilanka"}],this.isSubmitDisabled=!1,this.BASE_URL=f.c.apiURL,this.uid=sessionStorage.getItem("uid")||"",this.profileFrm=this._fb.group({active:1,address1:["",[i.k0.required]],address2:[""],city:[""],state:[""],class:[""],country:[""],email:["",[i.k0.required]],fname:["",[i.k0.required]],id:["",[i.k0.required]],lname:["",[i.k0.required]],mname:[""],parent_id:[""],persona:[""],phone:["",[i.k0.required]],school_id:[""],section:[""],uid:["",[i.k0.required]],profile_pic:["assets/images/491541-student-1728791592572.jpg"]})}ngOnInit(){this.data&&this.setfromValue(this.data)}ngAfterViewInit(){}setfromValue(e){this.profileFrm.setValue({active:e.active?e.active:1,address1:e.address1?e.address1:null,address2:e.address2?e.address2:"",city:e?.city?e?.city:"",state:e.state?e?.state:"",class:e.class?e.class:null,country:e.country?e.country:"",email:e.email?e.email:"",fname:e.fname?e.fname:"",id:e.id?e.id:"",lname:e.lname?e.lname:"",mname:e.mname?e.mname:"",parent_id:e.parent_id?e.parent_id:null,persona:e.persona?e.persona:0,phone:e.phone?e.phone:"",school_id:e.school_id?e.school_id:"",section:e.section?e.section:null,uid:e.uid?e.uid:"",profile_pic:e.profile_pic?e.profile_pic:"assets/images/491541-student-1728791592572.jpg"})}onUpload(e){let l=e.target.files?.[0];l&&this._api.uploadPhoto(l,"teacher",this.data.uid).subscribe(c=>{if(c.result){let L=`${c.result.destination}/${c.result.filename}`;this.profileFrm.get("profile_pic")?.setValue(L)}})}formSubmit(e){e.valid&&this._appService.updateTeacher(e.value).subscribe(o=>{this._toast.add({severity:"success",detail:"Successfuly Updated!",summary:"done"}),this.router.navigate([`user/${this.type}/${this.uid}/profile`])})}static#t=this.\u0275fac=function(o){return new(o||r)(t.rXU(i.ok),t.rXU(p.d),t.rXU(h.u),t.rXU(s.bg),t.rXU(b.Ix))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["app-profile"]],inputs:{data:"data"},features:[t.Jv_([s.bg])],decls:2,vars:1,consts:[["fileUpload",""],["class","profile",4,"ngIf"],[1,"profile"],[3,"submit","formGroup"],[1,"container-fluid","rounded","bg-white"],[1,"row"],[1,"col-md-3","border-right"],[1,"d-flex","flex-column","align-items-center","text-center","p-3","py-5"],["width","150px",1,"rounded-circle","mt-5",3,"src"],["class","font-weight-bold",4,"ngIf"],["class","text-black-50",4,"ngIf"],["type","file","hidden","",3,"change"],["icon","pi pi-plus",1,"rounded-button",3,"click","rounded"],[1,"col-md-9"],[1,"p-3"],[1,"row","mt-2"],[1,"col-md-4"],["pInputText","","id","fname","placeholder","First Name","formControlName","fname"],["for","fname"],["pInputText","","id","mname","placeholder","Middle Name","formControlName","mname"],["for","mname"],["pInputText","","id","lname","placeholder","Last Name","formControlName","lname"],["for","lname"],["class","col-md-4",4,"ngIf"],[1,"col-md-6"],["pInputText","","id","phone","placeholder","Mobile No.","formControlName","phone"],["for","phone"],["id","email","pInputText","","placeholder","Email","formControlName","email"],["for","email"],["id","country","formControlName","country","optionLabel","name","optionValue","name",3,"options"],["for","country"],["id","address1","pInputText","","placeholder","Address 1","formControlName","address1"],["for","address1"],["id","address2","pInputText","","placeholder","Address 2","formControlName","address2"],["for","address2"],["pInputText","","id","city","placeholder","City","formControlName","city"],["for","city"],["id","state","pInputText","","placeholder","State","formControlName","state"],["for","state"],[1,"col-sm-12","text-right"],["label","Cancel","severity","secondary",3,"disabled"],["label","Update","type","submit","severity","info",3,"disabled"],[1,"font-weight-bold"],[1,"text-black-50"],["id","parent_id","pInputText","","placeholder","parent","formControlName","parent_id"],["for","parent_id"]],template:function(o,l){1&o&&(t.DNE(0,D,87,9,"section",1),t.nrm(1,"p-toast")),2&o&&t.Y8G("ngIf",l.data)},dependencies:[E.bT,i.qT,i.me,i.BC,i.cb,i.j4,i.JD,g.S,F.ms,a.$n,y.y8,m.V],styles:["hr[_ngcontent-%COMP%]{margin-top:0}"]})}return r})()},1109:(j,u,n)=>{n.r(u),n.d(u,{SchoolModule:()=>F});var i=n(177),f=n(9555),s=n(3953),t=n(2368);let p=(()=>{class a{static#t=this.\u0275fac=function(d){return new(d||a)};static#e=this.\u0275cmp=s.VBU({type:a,selectors:[["app-dashboard"]],decls:6,vars:2,consts:[[1,"dashboard"],[3,"title","icon"],[1,"dashboard-container","container-fluid"],[1,"row"]],template:function(d,I){1&d&&(s.j41(0,"section",0),s.nrm(1,"app-inner-page-title",1),s.j41(2,"div",2)(3,"div",3)(4,"h5"),s.EFF(5,"School Information"),s.k0s()()()()),2&d&&(s.R7$(),s.Y8G("title","Dashboard")("icon","pi pi-home"))},dependencies:[t.p]})}return a})();var h=n(7243);const E=[{path:"",component:p},{path:"dashboard",component:p},{path:"settings",component:p},{path:"teachers",component:n(1800).q},{path:"expense",component:p},{path:"profile",component:h.n}];let g=(()=>{class a{static#t=this.\u0275fac=function(d){return new(d||a)};static#e=this.\u0275mod=s.$C({type:a});static#n=this.\u0275inj=s.G2t({imports:[f.iI.forChild(E),f.iI]})}return a})(),F=(()=>{class a{static#t=this.\u0275fac=function(d){return new(d||a)};static#e=this.\u0275mod=s.$C({type:a});static#n=this.\u0275inj=s.G2t({imports:[i.MD,g,t.p]})}return a})()}}]);