"use strict";(self.webpackChunkmyschool=self.webpackChunkmyschool||[]).push([[958],{9958:(U,p,n)=>{n.r(p),n.d(p,{UserModule:()=>G});var o=n(177),r=n(9555),u=n(1330),d=n(7887);const h=(0,d.UX)("user"),f=(0,d.Mz)(h,t=>t.user);(0,d.Mz)(h,t=>t);var e=n(3953),v=n(1667),m=n(1195),g=n(2616),b=n(1682);function C(t,l){if(1&t&&(e.j41(0,"a",4),e.nrm(1,"i"),e.EFF(2),e.nI1(3,"titlecase"),e.k0s()),2&t){const i=e.XpG().$implicit;e.R7$(),e.HbH(i.icon),e.R7$(),e.SpI(" ",e.bMT(3,4,i.title),"")}}function $(t,l){if(1&t&&(e.j41(0,"a",5),e.nrm(1,"i"),e.EFF(2),e.nI1(3,"titlecase"),e.k0s()),2&t){const i=e.XpG().$implicit;e.Y8G("routerLink",i.url),e.R7$(),e.HbH(i.icon),e.R7$(),e.SpI(" ",e.bMT(3,5,i.title),"")}}function M(t,l){if(1&t&&(e.j41(0,"a",5),e.nrm(1,"i"),e.EFF(2),e.nI1(3,"titlecase"),e.k0s()),2&t){const i=e.XpG().$implicit;e.Y8G("routerLink",i.url),e.R7$(),e.HbH(i.icon),e.R7$(),e.SpI(" ",e.bMT(3,5,i.title),"")}}function P(t,l){if(1&t&&(e.j41(0,"a",4),e.nrm(1,"i"),e.EFF(2),e.nI1(3,"titlecase"),e.k0s()),2&t){const i=e.XpG().$implicit;e.R7$(),e.HbH(i.icon),e.R7$(),e.SpI(" ",e.bMT(3,4,i.title),"")}}function S(t,l){if(1&t){const i=e.RV6();e.j41(0,"li",10),e.bIt("click",function(){const a=e.eBV(i).$implicit,c=e.XpG(3);return e.Njj(c.sidebarActive(a))}),e.DNE(1,M,4,7,"a",5)(2,P,4,6,"a",4),e.nrm(3,"hr"),e.k0s()}if(2&t){const i=l.$implicit;e.R7$(),e.vxM(i.disable?2:1)}}function O(t,l){if(1&t&&(e.j41(0,"ul",8),e.DNE(1,S,4,1,"li",9),e.k0s()),2&t){const i=e.XpG().$implicit;e.R7$(),e.Y8G("ngForOf",i.child)}}function y(t,l){if(1&t){const i=e.RV6();e.j41(0,"li",3),e.bIt("click",function(){const a=e.eBV(i).$implicit,c=e.XpG();return e.Njj(c.sidebarActive(a))}),e.DNE(1,C,4,6,"a",4)(2,$,4,7,"a",5),e.nrm(3,"hr",6),e.DNE(4,O,2,1,"ul",7),e.k0s()}if(2&t){const i=l.$implicit;e.Y8G("ngClass",i.active?"active":""),e.R7$(),e.vxM(i.disable?1:2),e.R7$(2),e.Y8G("ngClass",i.child?"haschild":""),e.R7$(),e.Y8G("ngIf",i.child)}}let x=(()=>{class t{constructor(){this.navigation=[]}sidebarActive(i){this.navigation.map(s=>{s.active=!1}),i.active=!0}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-sidebar"]],inputs:{navigation:"navigation"},decls:3,vars:1,consts:[[1,"sidebar"],[1,"nav-list"],["class","nav-item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"nav-item",3,"click","ngClass"],[1,"disabled"],[3,"routerLink"],[3,"ngClass"],["class","child-link nav-list",4,"ngIf"],[1,"child-link","nav-list"],["class","nav-item",3,"click",4,"ngFor","ngForOf"],[1,"nav-item",3,"click"]],template:function(s,a){1&s&&(e.j41(0,"nav",0)(1,"ul",1),e.DNE(2,y,5,4,"li",2),e.k0s()()),2&s&&(e.R7$(2),e.Y8G("ngForOf",a.navigation))},dependencies:[o.YU,o.Sq,o.bT,r.Wk,o.PV],styles:['.sidebar[_ngcontent-%COMP%]{padding-top:40px}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]{list-style:none;margin:0;padding-left:0;width:100%}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:0;width:100%}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:12px 15px;width:100%;display:flex;align-items:center;font-size:18px;color:#444;position:relative}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none;background-color:#444;color:#fff}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{opacity:.7}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:12px}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#444;color:#fff}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";width:5px;right:0;background-color:#6d6d6d;font-size:18px;top:0;height:100%;position:absolute}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{padding-left:15px;background-color:#f1f1f1}']})}return t})();var R=n(7076);function k(t,l){1&t&&(e.j41(0,"div",7),e.nrm(1,"span",8),e.k0s())}const I=[{path:"",component:(()=>{class t{constructor(i,s,a,c,j){this._router=i,this._appService=s,this._store=a,this._userServices=c,this._sharedAPI=j,this.isSidebarOpen=!0,this.breadcrumb=[{title:"Home",url:"",icon:"home",active:!1},{title:"Profile",url:"profile",icon:"user",active:!0}],this.isloader=!1,this.type=sessionStorage.getItem("type")||"",this.id=sessionStorage.getItem("uid"),this.navlist=[],this.studentNavList=[{active:!1,disable:!1,title:"Fee Report",url:`student/${this.id}/stufee`,icon:"pi pi-calendar"},{active:!1,disable:!1,title:"Event List",url:`student/${this.id}/events`,icon:"pi pi-calendar"},{active:!1,disable:!1,title:"Reports",url:`student/${this.id}/report`,icon:"pi pi-file-word"},{active:!1,disable:!0,title:"library",url:`student/${this.id}/library`,icon:"pi pi-book"},{active:!1,disable:!0,title:"Request & Support",url:`student/${this.id}/support`,icon:"pi pi-question-circle"},{active:!1,disable:!0,title:"Leave management",url:`student/${this.id}/lms`,icon:"pi pi-calendar"},{active:!0,disable:!1,title:"profile",url:`student/${this.id}/profile`,icon:"pi pi-user"},{active:!1,disable:!1,title:"logout",url:"/",icon:"pi pi-power-off"}],this.parentNavList=[{active:!0,disable:!1,title:"profile",url:"profile",icon:"user"},{active:!1,disable:!1,title:"fee Slip",url:"/",icon:" fa-solid fa-money-check-dollar"},{active:!1,disable:!1,title:"event list",url:"/",icon:"calendar"},{active:!1,disable:!1,title:"Results",url:"/",icon:" fa-solid fa-square-poll-vertical"},{active:!1,disable:!1,title:"logout",url:"/",icon:" fa-solid fa-power-off"}],this.teacherNavList=[{active:!0,disable:!1,title:"Dashboard",url:`teacher/${this.id}/dashboard`,icon:"pi pi-home"},{active:!1,disable:!1,title:"Student Addmission",url:`teacher/${this.id}/students`,icon:"pi pi-user"},{active:!1,disable:!0,title:"result manegement",url:`teacher/${this.id}/results`,icon:"pi pi-file-excel"},{active:!1,disable:!1,title:"event manegement",url:`teacher/${this.id}/events`,icon:"pi pi-megaphone"},{active:!1,disable:!1,title:"Parent manegement",url:`teacher/${this.id}/parents`,icon:"pi pi-users"},{active:!1,disable:!0,title:"library manegement",url:`teacher/${this.id}/library`,icon:"pi pi-book"},{active:!1,disable:!1,title:"Staff manegement",url:`teacher/${this.id}/teachers`,icon:"pi pi-server"},{active:!1,disable:!1,title:"Report",url:`teacher/${this.id}/report`,icon:"pi pi-file-word"},{active:!1,disable:!1,title:"Fee List",url:`teacher/${this.id}/stufee`,icon:"pi pi-file-word"},{active:!1,disable:!1,title:"Fee Structure",url:`teacher/${this.id}/fees_detils`,icon:"pi pi-dollar"},{active:!1,disable:!1,title:"School Management",url:`teacher/${this.id}/school-manage`,icon:" fa-solid fa-square-poll-vertical"},{active:!1,disable:!1,title:"profile",url:`teacher/${this.id}/profile`,icon:"pi pi-user"},{active:!1,disable:!1,title:"logout",url:"/",icon:"pi pi-power-off"}],this.schoolNavList=[{active:!0,disable:!1,title:"profile",url:"profile",icon:"user"},{active:!1,title:"Student manegement",url:"/",icon:"calendar"},{active:!1,title:"Parent manegement",url:"/",icon:" fa-solid fa-square-poll-vertical"},{active:!1,title:"Teacher manegement",url:"/",icon:" fa-solid fa-square-poll-vertical"},{active:!1,title:"event manegement",url:"/",icon:" fa-solid fa-square-poll-vertical"},{active:!1,title:"result manegement",url:"/",icon:" fa-solid fa-square-poll-vertical"},{active:!1,title:"fees manegement",url:"/",icon:" fa-solid fa-square-poll-vertical"},{active:!1,title:"library manegement",url:"/",icon:" fa-solid fa-square-poll-vertical"},{active:!1,title:"logout",url:"/",icon:" fa-solid fa-power-off"}],this.setSidenavbar(this.type),this._appService.loader$.subscribe(N=>{this.isloader=N})}ngOnInit(){this._store.dispatch(u.Jc()),this.userData$=this._store.select(f),this.userData$.subscribe(i=>{console.log("!!!!!!!!!!!!!! USER !!!!!!!!!!!!!:",i)}),this._userServices.getUserlog(this.id).subscribe(i=>{switch(this._appService.type$.next(i.results[0].type),i.results[0].type){case"student":this._sharedAPI.getStudentByid(this.id).subscribe(s=>{this._appService.persona$.next(s.results[0].persona)});break;case"teacher":this._sharedAPI.getTeacherByid(this.id).subscribe(s=>{this._appService.persona$.next(s.results[0].persona)});break;case"parent":this._sharedAPI.getParentByid(this.id).subscribe(s=>{this._appService.persona$.next(s.results[0].persona)});break;case"school":this._sharedAPI.getSchool(this.id).subscribe(s=>{this._appService.persona$.next(s.results[0].persona)});break;case"admin":this._appService.persona$.next(2);break;default:this._appService.persona$.next(0)}})}setSidenavbar(i){switch(i){case"student":this.navlist=this.studentNavList;break;case"teacher":this.navlist=this.teacherNavList;break;case"parent":this.navlist=this.parentNavList;break;case"school":case"admin":this.navlist=this.schoolNavList;break;default:this.navlist=[]}}static#e=this.\u0275fac=function(s){return new(s||t)(e.rXU(r.nX),e.rXU(v.u),e.rXU(d.il),e.rXU(m.F),e.rXU(g.d))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-user"]],decls:12,vars:4,consts:[[1,"sidebar-toggle",3,"click"],[1,"inner-container",3,"ngClass"],[1,"sidebar",2,"box-shadow","2px 2px 7px #d9dce1"],[3,"navigation"],[1,"myschool-container",3,"ngClass"],["class","loader-container",4,"ngIf"],[1,"inner-pages"],[1,"loader-container"],[1,"loader"]],template:function(s,a){1&s&&(e.nrm(0,"app-inner-header"),e.j41(1,"section")(2,"button",0),e.bIt("click",function(){return a.isSidebarOpen=!a.isSidebarOpen}),e.EFF(3,">"),e.k0s(),e.j41(4,"div",1)(5,"div",2),e.nrm(6,"app-sidebar",3),e.k0s(),e.j41(7,"div",4),e.DNE(8,k,2,0,"div",5),e.j41(9,"section",6),e.nrm(10,"router-outlet"),e.k0s()()()(),e.nrm(11,"app-copyright")),2&s&&(e.R7$(4),e.Y8G("ngClass",a.isSidebarOpen?"sidebar-open":"sidebar-close"),e.R7$(2),e.Y8G("navigation",a.navlist),e.R7$(),e.Y8G("ngClass",""),e.R7$(),e.Y8G("ngIf",a.isloader))},dependencies:[o.YU,o.bT,r.n3,b.B,x,R.b],encapsulation:2})}return t})(),children:[{path:"student/:id",loadChildren:()=>Promise.all([n.e(738),n.e(986)]).then(n.bind(n,9986)).then(t=>t.StudentModule)},{path:"teacher/:id",loadChildren:()=>Promise.all([n.e(738),n.e(502)]).then(n.bind(n,4502)).then(t=>t.TutorModule)},{path:"parent/:id",loadChildren:()=>n.e(665).then(n.bind(n,5665)).then(t=>t.ParentModule)},{path:"school/:id",loadChildren:()=>n.e(109).then(n.bind(n,1109)).then(t=>t.SchoolModule)},{path:"admin/:id",loadChildren:()=>n.e(45).then(n.bind(n,9045)).then(t=>t.AdminModule)}]}];let F=(()=>{class t{static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275mod=e.$C({type:t});static#i=this.\u0275inj=e.G2t({imports:[r.iI.forChild(I),r.iI]})}return t})();var T=n(6306);let G=(()=>{class t{static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275mod=e.$C({type:t});static#i=this.\u0275inj=e.G2t({imports:[o.MD,F,r.iI,T.G]})}return t})()}}]);