"use strict";(self.webpackChunkmyschool=self.webpackChunkmyschool||[]).push([[800],{1800:(H,B,h)=>{h.d(B,{q:()=>Q});var b=h(5404),u=h(177),o=h(9417),m=h(1141),k=h(612),N=h(491),_=h(6781),C=h(1593),f=h(2242),y=h(1283),e=h(3953),p=h(5779),T=h(1880),g=h(1455),F=h(1512);const R=["input"];function P(r,d){if(1&r){const t=e.RV6();e.j41(0,"TimesIcon",5),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.clear())}),e.k0s()}2&r&&(e.Y8G("styleClass","p-inputmask-clear-icon"),e.BMQ("data-pc-section","clearIcon"))}function D(r,d){}function L(r,d){1&r&&e.DNE(0,D,0,0,"ng-template")}function S(r,d){if(1&r){const t=e.RV6();e.j41(0,"span",6),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.clear())}),e.DNE(1,L,1,0,null,7),e.k0s()}if(2&r){const t=e.XpG(2);e.BMQ("data-pc-section","clearIcon"),e.R7$(),e.Y8G("ngTemplateOutlet",t.clearIconTemplate)}}function U(r,d){if(1&r&&(e.qex(0),e.DNE(1,P,1,2,"TimesIcon",3)(2,S,2,2,"span",4),e.bVm()),2&r){const t=e.XpG();e.R7$(),e.Y8G("ngIf",!t.clearIconTemplate),e.R7$(),e.Y8G("ngIf",t.clearIconTemplate)}}const $={provide:o.kq,useExisting:(0,e.Rfq)(()=>I),multi:!0};let I=(()=>{class r{document;platformId;el;cd;config;type="text";slotChar="_";autoClear=!0;showClear=!1;style;inputId;styleClass;placeholder;size;maxlength;tabindex;title;variant="outlined";ariaLabel;ariaLabelledBy;ariaRequired;disabled;readonly;unmask;name;required;characterPattern="[A-Za-z]";autofocus;set autoFocus(t){this.autofocus=t,console.warn("autoFocus is deprecated. Use autofocus property instead.")}autocomplete;keepBuffer=!1;get mask(){return this._mask}set mask(t){this._mask=t,this.initMask(),this.writeValue(""),this.onModelChange(this.value)}onComplete=new e.bkB;onFocus=new e.bkB;onBlur=new e.bkB;onInput=new e.bkB;onKeydown=new e.bkB;onClear=new e.bkB;inputViewChild;templates;clearIconTemplate;value;_mask;onModelChange=()=>{};onModelTouched=()=>{};input;filled;defs;tests;partialPosition;firstNonMaskPos;lastRequiredNonMaskPos;len;oldVal;buffer;defaultBuffer;focusText;caretTimeoutId;androidChrome=!0;focused;_variant="outlined";get inputClass(){return{"p-inputmask":!0}}constructor(t,s,i,a,n){this.document=t,this.platformId=s,this.el=i,this.cd=a,this.config=n}ngOnInit(){if((0,u.UE)(this.platformId)){let t=navigator.userAgent;this.androidChrome=/chrome/i.test(t)&&/android/i.test(t)}this.initMask()}ngAfterContentInit(){this.templates.forEach(t=>{"clearicon"===t.getType()&&(this.clearIconTemplate=t.template)})}initMask(){this.tests=[],this.partialPosition=this.mask.length,this.len=this.mask.length,this.firstNonMaskPos=null,this.defs={9:"[0-9]",a:this.characterPattern,"*":`${this.characterPattern}|[0-9]`};let t=this.mask.split("");for(let s=0;s<t.length;s++){let i=t[s];"?"==i?(this.len--,this.partialPosition=s):this.defs[i]?(this.tests.push(new RegExp(this.defs[i])),null===this.firstNonMaskPos&&(this.firstNonMaskPos=this.tests.length-1),s<this.partialPosition&&(this.lastRequiredNonMaskPos=this.tests.length-1)):this.tests.push(null)}this.buffer=[];for(let s=0;s<t.length;s++){let i=t[s];"?"!=i&&this.buffer.push(this.defs[i]?this.getPlaceholder(s):i)}this.defaultBuffer=this.buffer.join("")}writeValue(t){this.value=t,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.value=null==this.value||null==this.value?"":this.value,this.checkVal(),this.focusText=this.inputViewChild.nativeElement.value,this.updateFilledState())}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}caret(t,s){let i,a,n;if(this.inputViewChild?.nativeElement.offsetParent&&this.inputViewChild.nativeElement===this.inputViewChild.nativeElement.ownerDocument.activeElement){if("number"!=typeof t)return this.inputViewChild.nativeElement.setSelectionRange?(a=this.inputViewChild.nativeElement.selectionStart,n=this.inputViewChild.nativeElement.selectionEnd):this.document&&this.document.selection.createRange&&(i=this.document.createRange(),a=0-i.duplicate().moveStart("character",-1e5),n=a+i.text.length),{begin:a,end:n};a=t,n="number"==typeof s?s:a,this.inputViewChild.nativeElement.setSelectionRange?this.inputViewChild.nativeElement.setSelectionRange(a,n):this.inputViewChild.nativeElement.createTextRange&&(i=this.inputViewChild.nativeElement.createTextRange(),i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",a),i.select())}}isCompleted(){for(let s=this.firstNonMaskPos;s<=this.lastRequiredNonMaskPos;s++)if(this.tests[s]&&this.buffer[s]===this.getPlaceholder(s))return!1;return!0}getPlaceholder(t){return this.slotChar.charAt(t<this.slotChar.length?t:0)}seekNext(t){for(;++t<this.len&&!this.tests[t];);return t}seekPrev(t){for(;--t>=0&&!this.tests[t];);return t}shiftL(t,s){let i,a;if(!(t<0)){for(i=t,a=this.seekNext(s);i<this.len;i++)if(this.tests[i]){if(!(a<this.len&&this.tests[i].test(this.buffer[a])))break;this.buffer[i]=this.buffer[a],this.buffer[a]=this.getPlaceholder(a),a=this.seekNext(a)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,t))}}shiftR(t){let s,i,a,n;for(s=t,i=this.getPlaceholder(t);s<this.len;s++)if(this.tests[s]){if(a=this.seekNext(s),n=this.buffer[s],this.buffer[s]=i,!(a<this.len&&this.tests[a].test(n)))break;i=n}}handleAndroidInput(t){var s=this.inputViewChild?.nativeElement.value,i=this.caret();if(this.oldVal&&this.oldVal.length&&this.oldVal.length>s.length){for(this.checkVal(!0);i.begin>0&&!this.tests[i.begin];)i.begin--;if(0===i.begin)for(;i.begin<this.firstNonMaskPos&&!this.tests[i.begin];)i.begin++;setTimeout(()=>{const a=i.begin,n=this.seekNext(a);this.caret(a,a),this.clearBuffer(a,n-1),this.shiftL(a,this.keepBuffer?n-2:n-1),this.updateModel(t),this.isCompleted()&&this.onComplete.emit()},0)}else{for(this.checkVal(!0);i.begin<this.len&&!this.tests[i.begin-1];)i.begin++;setTimeout(()=>{this.caret(i.begin,i.begin),this.updateModel(t),this.isCompleted()&&this.onComplete.emit()},0)}}onInputBlur(t){if(this.focused=!1,this.onModelTouched(),this.keepBuffer||this.checkVal(),this.updateFilledState(),this.onBlur.emit(t),this.inputViewChild?.nativeElement.value!=this.focusText||this.inputViewChild?.nativeElement.value!=this.value){this.updateModel(t);let s=this.document.createEvent("HTMLEvents");s.initEvent("change",!0,!1),this.inputViewChild?.nativeElement.dispatchEvent(s)}}onInputKeydown(t){if(this.readonly)return;let i,a,n,l,s=t.which||t.keyCode;(0,u.UE)(this.platformId)&&(l=/iphone/i.test(g.D.getUserAgent())),this.oldVal=this.inputViewChild?.nativeElement.value,this.onKeydown.emit(t),8===s||46===s||l&&127===s?(i=this.caret(),a=i.begin,n=i.end,n-a==0&&(a=46!==s?this.seekPrev(a):n=this.seekNext(a-1),n=46===s?this.seekNext(n):n),this.clearBuffer(a,n),this.shiftL(a,this.keepBuffer?n-2:n-1),this.updateModel(t),this.onInput.emit(t),t.preventDefault()):13===s?(this.onInputBlur(t),this.updateModel(t)):27===s&&(this.inputViewChild.nativeElement.value=this.focusText,this.caret(0,this.checkVal()),this.updateModel(t),t.preventDefault())}onKeyPress(t){if(!this.readonly){var a,n,l,M,s=t.which||t.keyCode,i=this.caret();t.ctrlKey||t.altKey||t.metaKey||s<32||s>34&&s<41||(s&&13!==s&&(i.end-i.begin!=0&&(this.clearBuffer(i.begin,i.end),this.shiftL(i.begin,i.end-1)),(a=this.seekNext(i.begin-1))<this.len&&(n=String.fromCharCode(s),this.tests[a].test(n)&&(this.shiftR(a),this.buffer[a]=n,this.writeBuffer(),l=this.seekNext(a),g.D.isClient()&&/android/i.test(g.D.getUserAgent())?setTimeout(()=>{this.caret(l)},0):this.caret(l),i.begin<=this.lastRequiredNonMaskPos&&(M=this.isCompleted()),this.onInput.emit(t))),t.preventDefault()),this.updateModel(t),this.updateFilledState(),M&&this.onComplete.emit())}}clearBuffer(t,s){if(!this.keepBuffer){let i;for(i=t;i<s&&i<this.len;i++)this.tests[i]&&(this.buffer[i]=this.getPlaceholder(i))}}writeBuffer(){this.inputViewChild.nativeElement.value=this.buffer.join("")}checkVal(t){let a,n,l,s=this.inputViewChild?.nativeElement.value,i=-1;for(a=0,l=0;a<this.len;a++)if(this.tests[a]){for(this.buffer[a]=this.getPlaceholder(a);l++<s.length;)if(n=s.charAt(l-1),this.tests[a].test(n)){this.keepBuffer||(this.buffer[a]=n),i=a;break}if(l>s.length){this.clearBuffer(a+1,this.len);break}}else this.buffer[a]===s.charAt(l)&&l++,a<this.partialPosition&&(i=a);return t?this.writeBuffer():i+1<this.partialPosition?this.autoClear||this.buffer.join("")===this.defaultBuffer?(this.inputViewChild?.nativeElement.value&&(this.inputViewChild.nativeElement.value=""),this.clearBuffer(0,this.len)):this.writeBuffer():(this.writeBuffer(),this.inputViewChild.nativeElement.value=this.inputViewChild?.nativeElement.value.substring(0,i+1)),this.partialPosition?a:this.firstNonMaskPos}onInputFocus(t){if(this.readonly)return;let s;this.focused=!0,clearTimeout(this.caretTimeoutId),this.focusText=this.inputViewChild?.nativeElement.value,s=this.keepBuffer?this.inputViewChild?.nativeElement.value.length:this.checkVal(),this.caretTimeoutId=setTimeout(()=>{this.inputViewChild?.nativeElement===this.inputViewChild?.nativeElement.ownerDocument.activeElement&&(this.writeBuffer(),s==this.mask?.replace("?","").length?this.caret(0,s):this.caret(s))},10),this.onFocus.emit(t)}onInputChange(t){this.androidChrome?this.handleAndroidInput(t):this.handleInputChange(t),this.onInput.emit(t)}handleInputChange(t){this.readonly||this.disabled||setTimeout(()=>{var s=this.checkVal(!0);this.caret(s),this.updateModel(t),this.isCompleted()&&this.onComplete.emit()},0)}getUnmaskedValue(){let t=[];for(let s=0;s<this.buffer.length;s++){let i=this.buffer[s];this.tests[s]&&i!=this.getPlaceholder(s)&&t.push(i)}return t.join("")}updateModel(t){const s=this.unmask?this.getUnmaskedValue():t.target.value;(null!==s||void 0!==s)&&(this.value=s,this.onModelChange(this.value))}updateFilledState(){this.filled=this.inputViewChild?.nativeElement&&""!=this.inputViewChild.nativeElement.value}focus(){this.inputViewChild?.nativeElement.focus()}clear(){this.inputViewChild.nativeElement.value="",this.value=null,this.onModelChange(this.value),this.onClear.emit()}static \u0275fac=function(s){return new(s||r)(e.rXU(u.qQ),e.rXU(e.Agw),e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(p.r1))};static \u0275cmp=e.VBU({type:r,selectors:[["p-inputMask"]],contentQueries:function(s,i,a){if(1&s&&e.wni(a,p.Ei,4),2&s){let n;e.mGM(n=e.lsd())&&(i.templates=n)}},viewQuery:function(s,i){if(1&s&&e.GBs(R,7),2&s){let a;e.mGM(a=e.lsd())&&(i.inputViewChild=a.first)}},hostAttrs:[1,"p-element"],hostVars:6,hostBindings:function(s,i){2&s&&e.AVh("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused)("p-inputmask-clearable",i.showClear&&!i.disabled)},inputs:{type:"type",slotChar:"slotChar",autoClear:[2,"autoClear","autoClear",e.L39],showClear:[2,"showClear","showClear",e.L39],style:"style",inputId:"inputId",styleClass:"styleClass",placeholder:"placeholder",size:[2,"size","size",e.Udg],maxlength:[2,"maxlength","maxlength",e.Udg],tabindex:"tabindex",title:"title",variant:"variant",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",ariaRequired:[2,"ariaRequired","ariaRequired",e.L39],disabled:[2,"disabled","disabled",e.L39],readonly:[2,"readonly","readonly",e.L39],unmask:[2,"unmask","unmask",e.L39],name:"name",required:[2,"required","required",e.L39],characterPattern:"characterPattern",autofocus:[2,"autofocus","autofocus",e.L39],autoFocus:[2,"autoFocus","autoFocus",e.L39],autocomplete:"autocomplete",keepBuffer:[2,"keepBuffer","keepBuffer",e.L39],mask:"mask"},outputs:{onComplete:"onComplete",onFocus:"onFocus",onBlur:"onBlur",onInput:"onInput",onKeydown:"onKeydown",onClear:"onClear"},features:[e.Jv_([$]),e.GFd],decls:3,vars:24,consts:[["input",""],["pInputText","","pAutoFocus","",3,"focus","blur","keydown","keypress","input","paste","ngClass","ngStyle","disabled","readonly","variant","autofocus"],[4,"ngIf"],[3,"styleClass","click",4,"ngIf"],["class","p-inputmask-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-inputmask-clear-icon",3,"click"],[4,"ngTemplateOutlet"]],template:function(s,i){if(1&s){const a=e.RV6();e.j41(0,"input",1,0),e.bIt("focus",function(l){return e.eBV(a),e.Njj(i.onInputFocus(l))})("blur",function(l){return e.eBV(a),e.Njj(i.onInputBlur(l))})("keydown",function(l){return e.eBV(a),e.Njj(i.onInputKeydown(l))})("keypress",function(l){return e.eBV(a),e.Njj(i.onKeyPress(l))})("input",function(l){return e.eBV(a),e.Njj(i.onInputChange(l))})("paste",function(l){return e.eBV(a),e.Njj(i.handleInputChange(l))}),e.k0s(),e.DNE(2,U,3,2,"ng-container",2)}2&s&&(e.HbH(i.styleClass),e.Y8G("ngClass",i.inputClass)("ngStyle",i.style)("disabled",i.disabled)("readonly",i.readonly)("variant",i.variant)("autofocus",i.autofocus),e.BMQ("id",i.inputId)("type",i.type)("name",i.name)("placeholder",i.placeholder)("title",i.title)("size",i.size)("autocomplete",i.autocomplete)("maxlength",i.maxlength)("tabindex",i.tabindex)("aria-label",i.ariaLabel)("aria-labelledBy",i.ariaLabelledBy)("aria-required",i.ariaRequired)("required",i.required)("data-pc-name","inputmask")("data-pc-section","root"),e.R7$(2),e.Y8G("ngIf",null!=i.value&&i.filled&&i.showClear&&!i.disabled))},dependencies:()=>[u.YU,u.bT,u.T3,u.B3,f.S,T.q,F.A],styles:["@layer primeng{.p-inputmask-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputmask-clearable{position:relative}}\n"],encapsulation:2,changeDetection:0})}return r})(),x=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=e.$C({type:r});static \u0275inj=e.G2t({imports:[u.MD,f.u,T.u,F.A,p.Gg]})}return r})();var c=h(2100),E=h(1195),j=h(2616);let v=(()=>{class r{constructor(t,s,i,a,n,l){this.config=t,this.fb=s,this.ref=i,this.datepipe=a,this.userApi=n,this._sharedAPI=l,this.BASEURL=y.c.apiURL,this.teacherFrm=this.fb.group({id:[""],username:["",[o.k0.required]],password:["",[o.k0.required]],type:["teacher"],fname:["",[o.k0.required]],lname:["",[o.k0.required]],mname:["",[o.k0.required]],email:["",[o.k0.required]],phone:["",[o.k0.required]],address1:["",[o.k0.required]],address2:["",[o.k0.required]],city:["",[o.k0.required]],state:["",[o.k0.required]],country:["",[o.k0.required]],department:["",[o.k0.required]],role:["",[o.k0.required]],dob:["",[o.k0.required]],doj:["",[o.k0.required]],school_id:sessionStorage.getItem("school_id")||"",uid:sessionStorage.getItem("uid")||"",fin_year:sessionStorage.getItem("fin_year")||"",profile_pic:["assets/images/491541-student-1728791592572.jpg"],persona:0,active:1,valid:!1}),this.data$=this.config.data}ngOnInit(){this.data$.id&&this.setData(this.data$)}onUpload(t){let i=t.target.files?.[0];i&&this._sharedAPI.uploadPhoto(i,"student",this.data$.id).subscribe(n=>{if(n.result){let l=`${n.result.destination}/${n.result.filename}`;this.teacherFrm.get("profile_pic")?.setValue(l)}})}submitTeacher(t){t.valid&&(this.teacherFrm.get("doj")?.setValue(this.datepipe.transform(t.value.doj,"yyyy-MM-dd")),this.teacherFrm.get("dob")?.setValue(this.datepipe.transform(t.value.dob,"yyyy-MM-dd")),this.teacherFrm.get("valid")?.setValue(!0),this.ref.close(this.teacherFrm.value))}closeDialog(){this.teacherFrm.get("valid")?.setValue(!1),this.ref.close()}setData(t){this.teacherFrm.patchValue({id:t.id,fname:t.fname,lname:t.lname,mname:t.mname,email:t.email,phone:t.phone,address1:t.address1,address2:t.address2,city:t.city,state:t.state,country:t.country,department:t.department,role:t.role,dob:new Date(t.dob),doj:new Date(t.doj),school_id:t.school_id,uid:t.uid,fin_year:t.fin_year,profile_pic:t.profile_pic?t.profile_pic:"assets/images/491541-student-1728791592572.jpg"})}static#e=this.\u0275fac=function(s){return new(s||r)(e.rXU(c.sb),e.rXU(o.ok),e.rXU(c.Pw),e.rXU(u.vh),e.rXU(E.F),e.rXU(j.d))};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-teacher-dialog"]],standalone:!0,features:[e.Jv_([u.vh]),e.aNF],decls:106,vars:5,consts:[["fileUpload",""],[1,"teacher-dialog"],[3,"submit","formGroup"],[1,"row"],[1,"col-md-3"],["width","150px",1,"rounded-circle","mt-5",3,"src"],["type","file","hidden","",3,"change"],["icon","pi pi-plus",1,"rounded-button",3,"click","disabled","rounded"],[1,"col-md-9"],[1,"pi","pi-user"],[1,"col-md-6"],[1,"full-width"],["pInputText","","type","text","id","username","placeholder","Enter Username","formControlName","username"],["for","username"],["pInputText","","type","text","id","password","placeholder","Enter password","formControlName","password"],["for","password"],[1,"pi","pi-info-circle"],[1,"col-md-4"],["pInputText","","type","text","id","fname","placeholder","First Name","formControlName","fname"],["for","fname"],["pInputText","","text","text","id","mname","placeholder","Middle Name","formControlName","mname"],["for","mname"],["pInputText","","type","text","id","lname","placeholder","Last Name","formControlName","lname"],["for","lname"],["formControlName","dob","id","dob","dateFormat","dd/mm/yy","placeholder","Enter Date of Birth"],["for","dob"],["formControlName","doj","id","doj","dateFormat","dd/mm/yy","placeholder","Enter Date of Joining"],["for","doj"],["pInputText","","type","email","id","email","placeholder","Enter Email","formControlName","email"],["for","email"],["mask","9999999999","id","phone","placeholder","Phone","formControlName","phone"],["for","phone"],["pInputText","","formControlName","country","id","country","placeholder","Select Coutry"],["for","country"],["pInputText","","formControlName","state","id","state","placeholder","Select State"],["for","state"],["pInputText","","formControlName","address1","id","address1","placeholder","Enter Address"],["for","address1"],["pInputText","","formControlName","address2","id","address2","placeholder","Enter Address"],["for","address2"],["pInputText","","formControlName","city","id","city","placeholder","Select City"],["for","city"],["pInputText","","formControlName","department","id","department","placeholder","Enter Department"],["for","department"],["pInputText","","formControlName","role","id","role","placeholder","Enter role"],["for","role"],[1,"col-md-12","text-right"],["label","Cancel","severity","secondary",1,"mr-2",3,"click"],["label","Submit","type","submit","severity","success",3,"disabled"]],template:function(s,i){if(1&s){const a=e.RV6();e.j41(0,"div",1)(1,"form",2),e.bIt("submit",function(){return e.eBV(a),e.Njj(i.submitTeacher(i.teacherFrm))}),e.j41(2,"div",3)(3,"div",4),e.nrm(4,"img",5),e.j41(5,"input",6,0),e.bIt("change",function(l){return e.eBV(a),e.Njj(i.onUpload(l))}),e.k0s(),e.j41(7,"p-button",7),e.bIt("click",function(){e.eBV(a);const l=e.sdS(6);return e.Njj(l.click())}),e.k0s()(),e.j41(8,"div",8)(9,"h5"),e.nrm(10,"span",9),e.EFF(11," Create Staff Credential"),e.k0s(),e.nrm(12,"br"),e.j41(13,"div",3)(14,"div",10)(15,"p-floatLabel",11),e.nrm(16,"input",12),e.j41(17,"label",13),e.EFF(18,"Username"),e.k0s()()(),e.j41(19,"div",10)(20,"p-floatLabel",11),e.nrm(21,"input",14),e.j41(22,"label",15),e.EFF(23,"Password"),e.k0s()()()(),e.nrm(24,"hr")(25,"br")(26,"br"),e.j41(27,"h5"),e.nrm(28,"span",16),e.EFF(29," Staff Basic Information"),e.k0s(),e.nrm(30,"br"),e.j41(31,"div",3)(32,"div",17)(33,"p-floatLabel",11),e.nrm(34,"input",18),e.j41(35,"label",19),e.EFF(36,"First Name"),e.k0s()()(),e.j41(37,"div",17)(38,"p-floatLabel",11),e.nrm(39,"input",20),e.j41(40,"label",21),e.EFF(41,"Middle Name"),e.k0s()()(),e.j41(42,"div",17)(43,"p-floatLabel",11),e.nrm(44,"input",22),e.j41(45,"label",23),e.EFF(46,"Last Name"),e.k0s()()(),e.j41(47,"div",17)(48,"p-floatLabel"),e.nrm(49,"p-calendar",24),e.j41(50,"label",25),e.EFF(51,"Date of Birth"),e.k0s()()(),e.j41(52,"div",17)(53,"p-floatLabel"),e.nrm(54,"p-calendar",26),e.j41(55,"label",27),e.EFF(56,"Date of Joining"),e.k0s()()(),e.j41(57,"div",17)(58,"p-floatLabel",11),e.nrm(59,"input",28),e.j41(60,"label",29),e.EFF(61,"Email"),e.k0s()()(),e.j41(62,"div",17)(63,"p-floatLabel",11),e.nrm(64,"p-inputMask",30),e.j41(65,"label",31),e.EFF(66,"Phone"),e.k0s()()(),e.j41(67,"div",17)(68,"p-floatLabel",11),e.nrm(69,"input",32),e.j41(70,"label",33),e.EFF(71,"Country"),e.k0s()()(),e.j41(72,"div",17)(73,"p-floatLabel",11),e.nrm(74,"input",34),e.j41(75,"label",35),e.EFF(76,"State"),e.k0s()()(),e.j41(77,"div",17)(78,"p-floatLabel",11),e.nrm(79,"input",36),e.j41(80,"label",37),e.EFF(81,"Address"),e.k0s()()(),e.j41(82,"div",17)(83,"p-floatLabel",11),e.nrm(84,"input",38),e.j41(85,"label",39),e.EFF(86,"Address"),e.k0s()()(),e.j41(87,"div",17)(88,"p-floatLabel"),e.nrm(89,"input",40),e.j41(90,"label",41),e.EFF(91,"City"),e.k0s()()(),e.j41(92,"div",17)(93,"p-floatLabel",11),e.nrm(94,"input",42),e.j41(95,"label",43),e.EFF(96,"Department"),e.k0s()()(),e.j41(97,"div",17)(98,"p-floatLabel",11),e.nrm(99,"input",44),e.j41(100,"label",45),e.EFF(101,"role"),e.k0s()()()()()(),e.j41(102,"div",3)(103,"div",46)(104,"p-button",47),e.bIt("click",function(){return e.eBV(a),e.Njj(i.closeDialog())}),e.k0s(),e.nrm(105,"p-button",48),e.k0s()()()()}if(2&s){let a;e.R7$(),e.Y8G("formGroup",i.teacherFrm),e.R7$(3),e.Y8G("src",i.BASEURL+"/"+(null!=(a=i.teacherFrm.get("profile_pic"))&&a.value?null==(a=i.teacherFrm.get("profile_pic"))?null:a.value:"assets/images/491541-student-1728791592572.jpg"),e.B4B),e.R7$(3),e.Y8G("disabled","create"==i.data$)("rounded",!0),e.R7$(98),e.Y8G("disabled",!i.teacherFrm.valid)}},dependencies:[o.YN,o.qT,o.me,o.BC,o.cb,k.rO,k.Vv,m.$n,x,I,o.X1,o.j4,o.JD,u.MD,C.f,C.V,_.P,f.u,f.S,m.tm,N.D],styles:[".teacher-dialog[_ngcontent-%COMP%]   .col-md-4[_ngcontent-%COMP%]{margin-bottom:20px}"]})}return r})();var w=h(9114),V=h(9998),A=h(2368),G=h(1667);const X=()=>["id","title"],Y=()=>[10,25,50];function q(r,d){if(1&r){const t=e.RV6();e.j41(0,"p-button",11),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.createTeacher())}),e.k0s()}}function K(r,d){1&r&&(e.j41(0,"tr")(1,"th"),e.EFF(2,"Name"),e.k0s(),e.j41(3,"th"),e.EFF(4,"Phone"),e.k0s(),e.j41(5,"th"),e.EFF(6,"Email"),e.k0s(),e.j41(7,"th"),e.EFF(8,"Department"),e.k0s(),e.j41(9,"th"),e.EFF(10,"Role"),e.k0s(),e.j41(11,"th"),e.EFF(12,"Address"),e.k0s(),e.j41(13,"th"),e.EFF(14,"Action"),e.k0s()())}function O(r,d){if(1&r){const t=e.RV6();e.j41(0,"tr",17)(1,"td",18),e.nrm(2,"p-avatar",19),e.j41(3,"label",20),e.EFF(4),e.k0s()(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td"),e.EFF(14),e.k0s(),e.j41(15,"td")(16,"p-button",21),e.nI1(17,"async"),e.bIt("click",function(){const i=e.eBV(t).$implicit,a=e.XpG(2);return e.Njj(a.updateTeacherFn(i))}),e.k0s()()()}if(2&r){const t=d.$implicit,s=e.XpG(2);e.Y8G("ngClass","admin"==t.department?"bg-light":""),e.R7$(2),e.FS9("image",s.BASEURL+"/"+t.profile_pic),e.R7$(2),e.E5c("",t.fname," ",t.mname," ",t.lname,""),e.R7$(2),e.SpI(" ",t.phone," "),e.R7$(2),e.JRh(t.email),e.R7$(2),e.JRh(t.department),e.R7$(2),e.JRh(t.role),e.R7$(2),e.Lme("",t.address1,", ",t.address1,""),e.R7$(2),e.Y8G("rounded",!0)("disabled",!e.bMT(17,13,s.persona$))}}function J(r,d){1&r&&(e.j41(0,"tr")(1,"td",22),e.EFF(2,"No Teacher data available"),e.k0s()())}function z(r,d){if(1&r&&(e.j41(0,"div",12)(1,"p-table",13,0),e.DNE(3,K,15,0,"ng-template",14)(4,O,18,15,"ng-template",15)(5,J,3,0,"ng-template",16),e.k0s()()),2&r){const t=e.XpG();e.R7$(),e.Y8G("value",t.teacherData)("globalFilterFields",e.lJ4(5,X))("rows",10)("rowsPerPageOptions",e.lJ4(6,Y))("paginator",!0)}}let Q=(()=>{class r{constructor(t,s,i,a,n){this._shareAPI=t,this._appService=s,this._toast=i,this._dialog=a,this._userAPI=n,this.BASEURL=y.c.apiURL,this.type=sessionStorage.getItem("type")||"",this.school_id=sessionStorage.getItem("school_id")||"",this.fin_year=sessionStorage.getItem("fin_year")||"",this.persona$=this._appService.persona$,this.teacherData=[]}ngOnInit(){this.getTeacherData()}getTeacherData(){this._appService.loader$.next(!0),this._shareAPI.getTeachersFinyear(this.school_id,this.fin_year).subscribe(t=>{this._appService.loader$.next(!1),t.valid?this.teacherData=t.results:this._toast.add({severity:"error",summary:"error",detail:"Error in Teacher data!"})})}createTeacher(){this.dialogRef=this._dialog.open(v,{header:"Create Teacher",data:{},width:"70%"}),this.dialogRef.onClose.subscribe(t=>{t.valid&&t.username&&(this._appService.loader$.next(!0),this._userAPI.createUser(t).subscribe(s=>{s.valid&&s.udata.uid?(t.uid=s.udata.uid,this._shareAPI.createTeacher(t).subscribe(a=>{this._appService.loader$.next(!1),a.valid?(this._toast.add({severity:"success",summary:"success",detail:"Teacher created Successfuly!"}),this.getTeacherData()):this._toast.add({severity:"error",summary:"error",detail:"Error in creating Teacher!"})})):(this._appService.loader$.next(!1),this._toast.add({severity:"error",summary:"error",detail:"Error in creating Teacher!"}))}))})}updateTeacherFn(t){this.dialogRef=this._dialog.open(v,{header:"Update Teacher",data:t,width:"70%"}),this.dialogRef.onClose.subscribe(s=>{s.valid&&(this._appService.loader$.next(!0),this._shareAPI.updateTeacher(s).subscribe(i=>{this._appService.loader$.next(!1),i.valid?(this._toast.add({severity:"success",summary:"success",detail:"Teacher created Successfuly!"}),this.getTeacherData()):this._toast.add({severity:"error",summary:"error",detail:"Error in creating Teacher!"})}))})}static#e=this.\u0275fac=function(s){return new(s||r)(e.rXU(j.d),e.rXU(G.u),e.rXU(p.bg),e.rXU(c.o3),e.rXU(E.F))};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-teacher-table"]],standalone:!0,features:[e.Jv_([v,p.bg,c.Pw,c.o3]),e.aNF],decls:15,vars:9,consts:[["dt2",""],[1,"parent-list"],[1,"row","mb-3"],[1,"col-md-6"],[3,"title","icon"],[1,"col-md-6","d-flex","justify-content-end"],["icon","pi pi-pencil","pTooltip","Create Event",3,"disabled"],["icon","pi pi-trash","pTooltip","Delete selected",3,"disabled"],["icon","pi pi-envelope","pTooltip","Message",3,"disabled"],["severity","primary","icon","pi pi-plus","label","Create Events",3,"click",4,"ngIf"],["class","card",4,"ngIf"],["severity","primary","icon","pi pi-plus","label","Create Events",3,"click"],[1,"card"],["dataKey","id",3,"value","globalFilterFields","rows","rowsPerPageOptions","paginator"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"ngClass"],[1,"d-flex","justify-content-center"],["size","large",3,"image"],[1,"name"],["icon","pi pi-pencil","severity","help",3,"click","rounded","disabled"],["colspan","7",1,"text-center"]],template:function(s,i){1&s&&(e.j41(0,"section",1)(1,"div",2)(2,"div",3),e.nrm(3,"app-inner-page-title",4),e.k0s(),e.j41(4,"div",5),e.nrm(5,"p-button",6),e.EFF(6,"\xa0 "),e.nrm(7,"p-button",7),e.EFF(8,"\xa0 "),e.nrm(9,"p-button",8),e.EFF(10,"\xa0 "),e.DNE(11,q,1,0,"p-button",9),e.nI1(12,"async"),e.k0s()(),e.DNE(13,z,6,7,"div",10),e.k0s(),e.nrm(14,"p-toast")),2&s&&(e.R7$(3),e.Y8G("title","Teacher List")("icon","pi pi-user"),e.R7$(2),e.Y8G("disabled",!0),e.R7$(2),e.Y8G("disabled",!0),e.R7$(2),e.Y8G("disabled",!0),e.R7$(2),e.Y8G("ngIf",e.bMT(12,7,i.persona$)),e.R7$(2),e.Y8G("ngIf",i.teacherData))},dependencies:[b.bG,b.XI,p.Ei,m.tm,m.$n,A.p,u.MD,u.YU,u.bT,u.Jj,w.m,w.e,V.MB,V.y8,_.P,c.k_],styles:[".name[_ngcontent-%COMP%]{padding-left:10px;white-space:nowrap}"]})}return r})()}}]);